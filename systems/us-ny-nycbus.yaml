name: New York City Buses

feeds:
  - id: gtfsstatic_bronx
    parser: GTFS_STATIC
    url: "http://web.mta.info/developers/data/nyct/bus/google_transit_bronx.zip"

  - id: gtfsstatic_brooklyn
    parser: GTFS_STATIC
    url: "http://web.mta.info/developers/data/nyct/bus/google_transit_brooklyn.zip"

  - id: gtfsstatic_manhattan
    parser: GTFS_STATIC
    url: "http://web.mta.info/developers/data/nyct/bus/google_transit_manhattan.zip"

  - id: gtfsstatic_queens
    parser: GTFS_STATIC
    url: "http://web.mta.info/developers/data/nyct/bus/google_transit_queens.zip"

  - id: gtfsstatic_staten_island
    parser: GTFS_STATIC
    url: "http://web.mta.info/developers/data/nyct/bus/google_transit_staten_island.zip"

  - id: gtfsstatic_bus_company
    parser: GTFS_STATIC
    url: "http://web.mta.info/developers/data/busco/google_transit.zip"

  - id: trips
    parser: GTFS_REALTIME
    url: "https://gtfsrt.prod.obanyc.com/tripUpdates?key={{ .Args.mta_bus_api_key }}"
    gtfsRealtimeOptions:
      reassignStopSequences: true
      onlyProcessFullEntities: true

  - id: "alerts"
    parser: GTFS_REALTIME
    url: "http://gtfsrt.prod.obanyc.com/alerts?key={{ .Args.mta_bus_api_key }}"

  - id: "vehicles"
    parser: GTFS_REALTIME
    url: "http://gtfsrt.prod.obanyc.com/vehiclePositions?key={{ .Args.mta_bus_api_key }}"
    gtfsRealtimeOptions:
      onlyProcessFullEntities: true
